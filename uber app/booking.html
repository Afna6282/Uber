<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RideNow â€” Booking</title>
<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css"/>
<style>
*{box-sizing:border-box;margin:0;padding:0;font-family:'Inter',system-ui,sans-serif;}
body{background:#f5f7fb;color:#1f2937;margin:0;padding:0;}
header{display:flex;justify-content:space-between;align-items:center;padding:20px 10%;background:white;box-shadow:0 2px 8px rgba(0,0,0,.05);}
.logo{font-weight:700;font-size:22px;color:#2563eb;}
nav a{margin:0 10px;color:#374151;text-decoration:none;font-weight:500;}
nav a:hover{color:#2563eb;}
.container{max-width:900px;margin:30px auto;background:white;padding:24px;border-radius:16px;box-shadow:0 8px 24px rgba(0,0,0,.05);}
h1{font-size:26px;margin-bottom:16px;color:#2563eb;}
p{font-size:16px;margin-bottom:12px;}
button{padding:12px;width:100%;border:none;border-radius:10px;background:#2563eb;color:white;font-weight:600;cursor:pointer;font-size:16px;}
button:hover{background:#1d4ed8;}
#map{width:100%;height:300px;border-radius:12px;margin:16px 0;}
footer{text-align:center;margin-top:40px;padding:16px;color:#94a3b8;font-size:14px;}
</style>
</head>
<body>

<header>
  <div class="logo">RideNow</div>
  <nav>
    <a href="dashboard.html">Dashboard</a>
    <a href="index.html">Home</a>
  </nav>
</header>

<div class="container">
  <h1>Confirm Your Booking</h1>
  <p><strong>Pickup:</strong> <span id="pickup"></span></p>
  <p><strong>Drop:</strong> <span id="drop"></span></p>
  <p><strong>Ride Type:</strong> <span id="type"></span></p>
  <p><strong>Fare:</strong> â‚¹<span id="fare"></span></p>
  <p><strong>Estimated Time:</strong> <span id="time"></span> min</p>
  <p><strong>Distance:</strong> <span id="distance"></span> km</p>
  <div id="map"></div>
  <button onclick="confirmBooking()">Confirm Booking</button>
</div>

<footer>Â© 2025 RideNow â€” Fast. Safe. Reliable.</footer>

<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
<script>
// Parse URL parameters
function getQueryParams() {
  const params = {};
  const queryString = window.location.search.substring(1);
  const pairs = queryString.split("&");
  pairs.forEach(pair => {
    const [key,value] = pair.split("=");
    params[key] = decodeURIComponent(value);
  });
  return params;
}

// Populate page with ride details
const params = getQueryParams();
document.getElementById("pickup").innerText = params.pickup || "-";
document.getElementById("drop").innerText = params.drop || "-";
document.getElementById("type").innerText = params.type || "-";
document.getElementById("fare").innerText = params.fare || "-";
document.getElementById("time").innerText = params.time || "-";
document.getElementById("distance").innerText = params.distance || "-";

// Initialize Leaflet map
var map = L.map('map').setView([10.8505,76.2711],7);
L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',{maxZoom:19}).addTo(map);

// Add markers
var pickupMarker = L.marker([10.8505,76.2711]).addTo(map).bindPopup("Pickup: "+params.pickup).openPopup();
var dropMarker = L.marker([10.866,76.272]).addTo(map).bindPopup("Drop: "+params.drop);

// Fit map to markers
map.fitBounds(L.featureGroup([pickupMarker, dropMarker]).getBounds().pad(0.5));

// Confirm booking
function confirmBooking() {
  alert("Your ride has been booked! ðŸš—âœ…");
 
  window.location.href = "dashboard.html";
}
function confirmBooking() {
  // Redirect to success page after booking
  window.location.href = "success.html";
}

</script>

</body>
</html>
