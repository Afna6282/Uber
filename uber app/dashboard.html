<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RideNow â€” Dashboard</title>
<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css"/>
<style>
*{box-sizing:border-box;margin:0;padding:0;font-family:'Inter',system-ui,sans-serif;}
body{background:#f5f7fb;color:#0f172a;}
header{display:flex;justify-content:space-between;align-items:center;padding:20px 10%;background:white;box-shadow:0 2px 8px rgba(0,0,0,.05);}
.logo{font-weight:700;font-size:22px;color:#2563eb;}
nav a{margin:0 10px;color:#374151;text-decoration:none;font-weight:500;}
nav a:hover{color:#2563eb;}
.container{max-width:1200px;margin:30px auto;padding:20px;}
.grid{display:grid;grid-template-columns:2fr 1.3fr;gap:30px;}
.card{background:white;padding:24px;border-radius:16px;box-shadow:0 8px 24px rgba(0,0,0,.05);}
h1{font-size:26px;margin-bottom:12px;}
input{padding:12px;border:1px solid #d1d5db;border-radius:10px;font-size:15px;width:100%;margin-bottom:12px;}
button{padding:12px;width:100%;border:none;border-radius:10px;background:#2563eb;color:white;font-weight:600;cursor:pointer;}
button:hover{background:#1d4ed8;}
#map{width:100%;height:350px;border-radius:12px;margin-top:16px;}
.options{margin-top:20px;}
.option{display:flex;justify-content:space-between;align-items:center;padding:12px 16px;border:1px solid #e2e8f0;border-radius:10px;margin-bottom:10px;cursor:pointer;transition:0.2s;}
.option:hover{background:#f9fafb;}
.price{font-weight:700;color:#2563eb;}
@media(max-width:800px){.grid{grid-template-columns:1fr;}}
</style>
</head>
<body>
<header>
  <div class="logo">RideNow</div>
  <nav>
    <a href="index.html">Home</a>
    <a href="login.html">Logout</a>
  </nav>
</header>

<div class="container grid">
  <div class="card">
    <h1>Book a Ride</h1>
    <input type="text" id="pickup" placeholder="Pickup Location" />
    <input type="text" id="drop" placeholder="Dropoff Location" />
    <button onclick="showRides()">Show Available Rides</button>
    <div id="map"></div>
  </div>

  <div class="card">
    <h1>Available Rides</h1>
    <div class="options" id="rides">
      <p style="color:#6b7280;">Enter locations to view rides.</p>
    </div>
  </div>
</div>

<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
<script>
var map = L.map('map').setView([10.8505,76.2711],7);
L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',{maxZoom:19}).addTo(map);
var pickupMarker, dropMarker;

function showRides(){
  const pickup=document.getElementById("pickup").value.trim();
  const drop=document.getElementById("drop").value.trim();
  if(!pickup||!drop){alert("Enter both pickup & drop!");return;}

  if(pickupMarker) map.removeLayer(pickupMarker);
  if(dropMarker) map.removeLayer(dropMarker);

  pickupMarker=L.marker([10.8505,76.2711]).addTo(map).bindPopup("Pickup: "+pickup).openPopup();
  dropMarker=L.marker([10.866,76.272]).addTo(map).bindPopup("Drop: "+drop);
  map.fitBounds(L.featureGroup([pickupMarker, dropMarker]).getBounds().pad(0.5));

  const ridesDiv=document.getElementById("rides");
  ridesDiv.innerHTML=`
    <div class="option"><span>ðŸš— RideX</span> <button onclick="bookRide('RideX',120,12,5)">Select</button></div>
    <div class="option"><span>ðŸ›º Auto</span> <button onclick="bookRide('Auto',60,8,3)">Select</button></div>
    <div class="option"><span>ðŸš• Premium</span> <button onclick="bookRide('Premium',220,5,6)">Select</button></div>
    <div class="option"><span>ðŸš™ SUV</span> <button onclick="bookRide('SUV',350,10,12)">Select</button></div>
  `;
}

function bookRide(type,fare,time,distance){
  const pickup=encodeURIComponent(document.getElementById("pickup").value.trim());
  const drop=encodeURIComponent(document.getElementById("drop").value.trim());
  window.location.href=`booking.html?pickup=${pickup}&drop=${drop}&type=${type}&fare=${fare}&time=${time}&distance=${distance}`;
}
</script>
</body>
</html>





